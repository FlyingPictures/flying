import { getTranslations } from 'next-intl/server'
import { CloudinaryImage } from '@/components/CloudinaryImage'
import { IMAGES } from '@/lib/images'

const ICONS: Record<string, React.ReactNode> = {
  '1': (
    <svg width="21" height="29" viewBox="0 0 21 29" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M1 27.6667V17M1 17L4.29423 16.3412C6.49493 15.9011 8.77613 16.1104 10.8599 16.944C13.118 17.8472 15.6032 18.0159 17.9627 17.426L18.2485 17.3545C19.082 17.1461 19.6667 16.3973 19.6667 15.5383V5.71559C19.6667 4.67484 18.6887 3.91119 17.6789 4.1636C15.504 4.70735 13.2129 4.55185 11.1315 3.71924L10.8599 3.61063C8.77613 2.77712 6.49493 2.56768 4.29423 3.00783L1 3.66667M1 17V13M1 3.66667V1M1 3.66667V7.66667" stroke="#03303B" strokeWidth={2} strokeLinecap="round"/>
    </svg>

  ),
  '2': (
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M16 4.13301C19.5333 5.13301 23.4 6.33301 25.3333 6.99967V17.4663C25.3333 19.733 22.8667 23.733 16 27.733C9.13333 23.6663 6.66667 19.733 6.66667 17.4663V6.99967C8.6 6.26634 12.4667 5.13301 16 4.13301ZM16 1.33301C16 1.33301 4 4.73301 4 5.33301V17.4663C4 23.5997 12.8667 28.9997 15.3333 30.4663C15.5307 30.5982 15.7627 30.6686 16 30.6686C16.2373 30.6686 16.4693 30.5982 16.6667 30.4663C19.2 29.0663 28 23.5997 28 17.4663V5.33301C28 4.73301 16 1.33301 16 1.33301Z" fill="#03303B"/>
      <path d="M13.0666 19.6005L9.73327 16.3338C9.50229 16.0977 9.36221 15.7875 9.33781 15.4581C9.31341 15.1288 9.40626 14.8013 9.59994 14.5338C9.70785 14.3731 9.85114 14.2393 10.0188 14.1426C10.1865 14.046 10.3741 13.989 10.5672 13.9761C10.7603 13.9633 10.9538 13.9948 11.1328 14.0684C11.3119 14.1419 11.4717 14.2555 11.5999 14.4005L13.9999 16.8005L20.3999 10.4005C20.6567 10.2079 20.9743 10.1144 21.2945 10.1371C21.6146 10.1599 21.9158 10.2974 22.1427 10.5243C22.3697 10.7513 22.5072 11.0525 22.5299 11.3726C22.5527 11.6928 22.4592 12.0104 22.2666 12.2671L14.9333 19.6005C14.8146 19.7298 14.6704 19.833 14.5097 19.9037C14.349 19.9743 14.1754 20.0108 13.9999 20.0108C13.8244 20.0108 13.6508 19.9743 13.4902 19.9037C13.3295 19.833 13.1853 19.7298 13.0666 19.6005Z" fill="#03303B"/>
    </svg>

  ),
  '3': (
    <svg width="29" height="32" viewBox="0 0 29 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M27.828 12.2151C27.5531 11.8507 27.1231 11.6365 26.6667 11.6365H20.9272L22.2284 7.73265C22.3762 7.28911 22.3019 6.80145 22.0284 6.42221C21.7552 6.04286 21.316 5.81818 20.8485 5.81818H15.5152V2.90909H16.9697C17.773 2.90909 18.4243 2.25784 18.4243 1.45455C18.4243 0.651248 17.773 0 16.9697 0H11.1515C10.3482 0 9.697 0.651248 9.697 1.45455C9.697 2.25784 10.3482 2.90909 11.1515 2.90909H12.6061V5.81818H7.27276C6.80526 5.81818 6.36609 6.04286 6.09273 6.42221C5.81937 6.80145 5.745 7.28902 5.89278 7.73265L7.19402 11.6365H1.45457C0.998137 11.6365 0.568173 11.8507 0.293264 12.2151C0.0184522 12.5795 -0.0694023 13.0517 0.0559795 13.4906L1.99537 20.2785C2.1738 20.9029 2.74456 21.3334 3.39397 21.3334H9.697V30.5455C9.697 31.3488 10.3482 32 11.1515 32C11.9548 32 12.6061 31.3488 12.6061 30.5455V21.3334H15.5152V30.5455C15.5152 31.3488 16.1664 32 16.9697 32C17.773 32 18.4243 31.3488 18.4243 30.5455V21.3334H24.7273C25.3767 21.3334 25.9475 20.9029 26.1259 20.2785L28.0653 13.4906C28.1907 13.0517 28.1028 12.5795 27.828 12.2151ZM16.9697 18.4243H15.5152V14.5456H18.4243V18.4243H16.9697ZM18.8305 8.72727L17.8608 11.6364H10.2606L9.29089 8.72727H18.8305ZM3.38291 14.5456H6.78791V18.4243H4.49108L3.38291 14.5456ZM11.1515 18.4243H9.697V14.5456H12.6061V18.4243H11.1515ZM23.6301 18.4243H21.3334V14.5456H24.7384L23.6301 18.4243Z" fill="#03303B"/>
    </svg>

  ),
  '4': (
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M16 4.13301C19.5333 5.13301 23.4 6.33301 25.3333 6.99967V17.4663C25.3333 19.733 22.8667 23.733 16 27.733C9.13333 23.6663 6.66667 19.733 6.66667 17.4663V6.99967C8.6 6.26634 12.4667 5.13301 16 4.13301ZM16 1.33301C16 1.33301 4 4.73301 4 5.33301V17.4663C4 23.5997 12.8667 28.9997 15.3333 30.4663C15.5307 30.5982 15.7627 30.6686 16 30.6686C16.2373 30.6686 16.4693 30.5982 16.6667 30.4663C19.2 29.0663 28 23.5997 28 17.4663V5.33301C28 4.73301 16 1.33301 16 1.33301Z" fill="#03303B"/>
      <path d="M13.0666 19.6005L9.73327 16.3338C9.50229 16.0977 9.36221 15.7875 9.33781 15.4581C9.31341 15.1288 9.40626 14.8013 9.59994 14.5338C9.70785 14.3731 9.85114 14.2393 10.0188 14.1426C10.1865 14.046 10.3741 13.989 10.5672 13.9761C10.7603 13.9633 10.9538 13.9948 11.1328 14.0684C11.3119 14.1419 11.4717 14.2555 11.5999 14.4005L13.9999 16.8005L20.3999 10.4005C20.6567 10.2079 20.9743 10.1144 21.2945 10.1371C21.6146 10.1599 21.9158 10.2974 22.1427 10.5243C22.3697 10.7513 22.5072 11.0525 22.5299 11.3726C22.5527 11.6928 22.4592 12.0104 22.2666 12.2671L14.9333 19.6005C14.8146 19.7298 14.6704 19.833 14.5097 19.9037C14.349 19.9743 14.1754 20.0108 13.9999 20.0108C13.8244 20.0108 13.6508 19.9743 13.4902 19.9037C13.3295 19.833 13.1853 19.7298 13.0666 19.6005Z" fill="#03303B"/>
    </svg>

  ),
}

export async function SafetySafety() {
  const t = await getTranslations('safety.safety')
  const messages = t.raw('cards') as Record<string, { title: string; description: string }>
  const cards = Object.entries(messages).map(([key, value]) => ({
    id: key,
    title: value.title,
    description: value.description,
  }))

  return (
    <section className="relative w-full min-h-246 flex flex-col items-center justify-center overflow-hidden py-[clamp(60px,8vw,120px)] px-4">
      <CloudinaryImage publicId={IMAGES.safety.safety.background} alt="" fill className="object-cover object-center -z-10" />
      <div className="absolute inset-0 -z-10" style={{ background: 'linear-gradient(180deg, #000000 5.24%, rgba(0,0,0,0) 32.63%, #000000 91.39%)' }} />

      <div className="flex flex-col items-center text-center gap-6 max-w-229 w-full mb-[clamp(40px,6vw,80px)]">
        <div className="flex flex-col items-center gap-[clamp(4px,0.5vw,12px)]">
          <h4 className="text-background">{t('subtitle')}</h4>
          <h2 className="text-background whitespace-pre-line">{t('title')}</h2>
        </div>
        <p className="text-background max-w-155 md:whitespace-pre-line">{t('description')}</p>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-x-[clamp(40px,8.33vw,120px)] gap-y-[clamp(32px,5.5vw,80px)] max-w-5xl w-full">
        {cards.map((card) => (
          <div key={card.id} className="flex flex-col items-center gap-[clamp(12px,1vw,16px)] m-2 text-center">
            <div className="w-[clamp(72px,5.77vw,83px)] h-[clamp(72px,5.77vw,83px)] rounded-full bg-[#DCD2AF] flex items-center justify-center shrink-0">
              {ICONS[card.id]}
            </div>
            <h3 className="text-background">{card.title}</h3>
            <p className="text-background/80">{card.description}</p>
          </div>
        ))}
      </div>
    </section>
  )
}